---
title: "Androidã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ã‚¿ãƒƒãƒ—ã—ã¦Activityã‚’èµ·å‹•ã—ãŸã„"
emoji: "ğŸ—‚"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: []
published: false
---

æœ¬è¨˜äº‹ã§ã¯Androidã‚¢ãƒ—ãƒªé–‹ç™ºã®ä¸­ã§ã‚‚ã€ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã«å¯¾ã—ã¦ã‚¿ãƒƒãƒ—æ™‚ã®å‹•ä½œã‚’ä»•è¾¼ã‚€éš›ã«æ³¨æ„ã™ã¹ãç‚¹ã‚’æ›¸ã„ã¦ã„ã¾ã™ã€‚

# çµè«–
PendingIntentã‚’ä½¿ã£ã¦Broadcastã‚’ç™ºè¡Œã—ã¾ã™ã€‚  

```java:SampleWidget.java
// create broadcast intent
Intent intent = new Intent(context, SampleWidget.class);
intent.setAction("ACTION_APPWIDGET_TAPPED");
views.setOnClickPendingIntent(
        R.id.appwidget_text,
        PendingIntent.getBroadcast(
                context,
                0,
                intent,
                PendingIntent.FLAG_IMMUTABLE
        )
);
    
```

AndroidManifest.xmlã«receiverã‚’ç™»éŒ²ã—ã¾ã™ã€‚

```xml:AndroidManifest.xml
<receiver
    android:name=".SampleWidget"
    android:exported="false">
    <intent-filter>
        <action android:name="android.appwidget.action.APPWIDGET_UPDATE" />
    </intent-filter>

    <meta-data
        android:name="android.appwidget.provider"
        android:resource="@xml/sample_widget_info" />
</receiver>


</manifest>
```

ç™ºè¡Œã—ãŸBroadcastã‚’ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆå´ã§å—ã‘å–ã‚Šã¾ã™ã€‚
```java:SampleWidget.java
// receive broadcast and open main activity
@Override
public void onReceive(Context context, Intent intent) {
    super.onReceive(context, intent);

    // create an intent to open the main activity
    Intent mainActivityIntent = new Intent(context, MainActivity.class);
    mainActivityIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);

    // check if the broadcast is from the widget
    if (Objects.equals(intent.getAction(), "ACTION_APPWIDGET_TAPPED")) {
        context.startActivity(mainActivityIntent);
    }
}
```


PendingIntentã¨ã¯ï¼Ÿ  
Broadcastã£ã¦ä½•ï¼Ÿ

ï¼‘ã¤ãšã¤è§£èª¬ã—ã¾ã™ã€‚


# setOnClickListenerãŒåŠ¹ã‹ãªã„ï¼ï¼Ÿ
Android ã‚¢ãƒ—ãƒªé–‹ç™ºã«ãŠã„ã¦ã€ã‚¿ãƒƒãƒ—ã—ãŸã¨ãã®å‹•ä½œã‚’ä»•è¾¼ã‚€ã“ã¨ã¯é‰„æ¿ã§ã™ã€‚  

# PendingIntentã¨ã¯ï¼Ÿ

## setOnPendingIntent

## setAction

## Broadcast

# ã¾ã¨ã‚
ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã«ã‚¿ãƒƒãƒ—æ™‚ã®å‹•ä½œã‚’ä»•è¾¼ã‚€ã«ã¯PendingIntentã‚’ä½¿ã£ã¦Broadcastã‚’ç™ºè¡Œã™ã‚‹ã€‚

# å®£ä¼
ã‚¢ãƒ—ãƒª

